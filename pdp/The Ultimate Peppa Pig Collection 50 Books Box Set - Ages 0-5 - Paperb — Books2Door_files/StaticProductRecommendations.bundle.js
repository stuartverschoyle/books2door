(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[32],{81:function(t,i,e){"use strict";e.r(i);var o=e(2);var r=e(19);var n=e(9);var c=e.n(n);var a=e(6);var l=e(22);var d=e(7);var s=e.n(d);var u=e(13);var h=e.n(u);function f(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function m(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function p(t,i,e){return i&&m(t.prototype,i),e&&m(t,e),t}var w=function(){function t(i){f(this,t),this.$window=$(window),this.flickity=null,this.productRow=i,this.$productRow=$(this.productRow),this._mobileSlider=this._mobileSlider.bind(this),a["a"].onBreakpointChange(this._mobileSlider),this._mobileSlider()}return p(t,[{key:"unload",value:function t(){a["a"].offBreakpointChange(this._mobileSlider),this._destroyFlickity()}},{key:"_initFlickity",value:function t(){this.flickity=new h.a(this.productRow,{cellSelector:".productgrid--item",contain:!0,freeScroll:!0,percentPosition:!1,prevNextButtons:!1,pageDots:!1,setGallerySize:!1}),this._bindSlider()}},{key:"_destroyFlickity",value:function t(){this.flickity&&(this.$window.off(".product-row"),this.$productRow.off(".product-row"),this.flickity.destroy(),this.flickity=null)}},{key:"_mobileSlider",value:function t(){if(a["a"].isGreaterThanBreakpoint("M"))return this._destroyFlickity(),void 0;this.flickity||this._initFlickity()}},{key:"_bindSlider",value:function t(){var i=this;var e=this.$productRow.find(".flickity-slider");this.$window.on("resize.product-row",s()((function(){i.$productRow.trigger("heightUpdate.product-row")}))),this.flickity.on("cellSelect",(function(){i.$productRow.trigger("heightUpdate.product-row")})),this.$productRow.on("heightUpdate.product-row",(function(){i.flickity&&e.height(Math.ceil(i.flickity.maxCellHeight))})),this.$productRow.trigger("heightUpdate.product-row")}}]),t}();var y=e(29);function v(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}function k(t,i){for(var e=0;e<i.length;e++){var o=i[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function S(t,i,e){return i&&k(t.prototype,i),e&&k(t,e),t}e.d(i,"default",(function(){return b}));var b=function(){function t(i){v(this,t),this.section=i,this.productId=i.data.productId,this.limit=i.data.settings.limit,this.recommendedProducts=[],this.productsScroller=null,this.recommendationContainer=document.querySelector("[data-product-recommendations]"),this.recommendUrl="/recommendations/products?section_id=static-product-recommendations&limit=".concat(this.limit,"&product_id=").concat(this.productId),this._loadRecommendations=this._loadRecommendations.bind(this),this._resizeRowScroller=this._resizeRowScroller.bind(this),this._loadRecommendations()}return S(t,[{key:"_loadRecommendations",value:function t(){var i=this;r["a"].load(this.recommendUrl,{view:""}).then((function(t){var e=t.html;i.recommendationContainer.innerHTML=e,o["a"].watch(i.recommendationContainer);var r=i.recommendationContainer.querySelectorAll("[data-product-item]");var n=a["a"].isGreaterThanBreakpoint("L",!0);var d;r.length&&(r.forEach((function(t){i.recommendedProducts.push(new l["a"]({el:t,id:i.section.id,lazy:n}))})),Object(y["a"])(),i.recommendationContainer.querySelectorAll(".money").forEach((function(t){return c.a.update(t)})),window.Shopify&&Shopify.PaymentButton&&Shopify.PaymentButton.init(),i.recommendationContainer.addEventListener("rimg:load",i._resizeRowScroller),i.productsScroller=new w(i.section.el.querySelector("[data-product-row]")))}))}},{key:"_resizeRowScroller",value:function t(){this.productsScroller&&this.productsScroller.flickity&&this.productsScroller.flickity.resize()}},{key:"onSectionUnload",value:function t(){this.productsScroller&&this.productsScroller.unload(),this.recommendedProducts.forEach((function(t){t.unload()})),this.recommendationContainer.removeEventListener("rimg:load",this._resizeRowScroller)}}]),t}()}}]);
//# sourceMappingURL=/s/files/1/0024/6874/1219/t/34/assets/StaticProductRecommendations.bundle.js.map?v=3850266668046228396
